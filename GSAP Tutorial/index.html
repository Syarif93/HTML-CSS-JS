<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GSAP Tutorial</title>

    <link rel="stylesheet" href="style.css">
</head>
<body>
    <main>
        <div class="content">
            <h1 class="anim1"><span>Bridging the gap</span> <span>between dream</span> <span>and reality</span></h1>
            <p class="anim1">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Odio at ipsa alias modi natus excepturi?</p>
            <a href="#" class="anim1" id="cta">Start Dreaming</a>
        </div>
    </main>
    <aside>
        <div class="wrapper">
            <img class="swirl" src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/2621168/swirl.png" alt="Swirl Graphic">
        </div>
    </aside>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.3.3/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.3.3/CSSRulePlugin.min.js"></script>

    <script>
                // 1
        // gsap.from(".content", {duration:1, y:-50, opacity: 0});

        // 1.1   Show Easings  "steps(5)"   "Power2.easeInOut"  "elastic(1, 0.3)"  https://greensock.com/docs/v2/Easing
        // gsap.from(".content", {duration:1, y:-50, opacity: 0, ease: "elastic(1, 0.3)"}); 

        // 2  ADD
        // gsap.from("img", {duration: 1, y: 30, opacity: 0});
        // gsap.from("aside", {duration: 1, opacity: 0, backgroundPosition: '200px 0px'});

        // 3 Show Delay
        // gsap.from("img", {duration: 1, delay: 1.4, y: 30, opacity: 0});
        // gsap.from("aside", {duration: 1, delay: 1.1, opacity: 0, backgroundPosition: '200px 0px'});

        // 4 Show Stagger (add class)
        // gsap.from(".anim1", {duration:1, y:-50, opacity: 0, stagger: .6});

        // 5 Show text reveal animation (add css span:after)
        // <script src="CSSRulePlugin.min.js">

        var rule = CSSRulePlugin.getRule("main .content h1 span::after");
        console.log(rule)
        
        // 6 Show Timeline
        var tl = gsap.timeline({defaults:{duration: 1}});
        tl.from(".anim1", {y:-50, stagger: .6, opacity: 0})
            .to(rule, {duration: 1.8, cssRule: {scaleY: 0}}, "-=2.2")
            .from("aside", {backgroundPosition: '200px 0px', opacity: 0}, "-=1.5")
            .from("img", {y:30, opacity: 0}, "-=.5")

        // 7 Show Click reverse
        document.getElementById('cta').addEventListener('click', () => {
            tl.reversed() ? tl.play() : tl.reverse();
        })
    </script>
</body>
</html>